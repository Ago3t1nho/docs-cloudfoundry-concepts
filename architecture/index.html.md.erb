---
title: Architecture
---

![Cloud Foundry Architecture](/images/cf_architecture_block.png)

## Router

The [router](./router.html) routes incoming traffic to the
appropriate component, usually the cloud controller or a
running application on a DEA node.

## Authentication

The OAuth2 server (the [UAA](./uaa.html)) and Login Server work
together to provide identity management.

## Cloud Controller

The [Cloud Controller](./cloud-controller.html) is responsible for
managing the lifecycle of applications.
When a developer pushes an application to Cloud Foundry, they are
targeting the Cloud Controller.
The Cloud Controller then stores the raw application bits,
creates a record to track the application's meta data,
and directs a DEA node to stage and run the application.
The Cloud Controller also maintains records of
organizations, spaces, services, service instances, user roles,
and more.

## Health Manager

[Health manager](./health-manager.html) monitors applications, reconciles the current state (e.g. running, stopped, crashed) and expected state, and directs Cloud Controller to take action if they disagree.

## Application Execution (DEA)

The [droplet execution agent](./execution-agent.html) manages application instances. Tracks started instances and broadcasts state messages.

Application instances live inside [Warden](./warden.html) containers.
Containerization ensures that application instances run in isolation,
get their fair share of resources, and are protected from noisy neighbors.

## Blob Store

The blob store holds:

* Application code
* Build packs
* Droplets

## Service Brokers

Applications typically depend on [services](./services/) such as databases or third-party SaaS providers.
When the developer provisions and binds a service to their
application, the service broker for that service is responsible
for providing the service instance.

## Message Bus

Cloud Foundry uses [nats](./messaging-nats.html), a lightweight publish-subscribe and distributed queueing messaging system
for internal communication between components.

## Logging and Statistics

The sys log aggregator and collector gather logs and metrics from the
components. Operators can use this information to monitor their instance of Cloud Foundry.

The application log aggregator streams application logs to developers.

